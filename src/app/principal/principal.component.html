<div id="main-wrapper">
    <header class="topbar">
        <nav class="navbar top-navbar navbar-expand-md navbar-light">
            <div class="navbar-header">

                <a class="navbar-brand pointer" routerLink="/inicio">
                    <b>
                            <img src="../assets/images/logo-ject-app.png" alt="homepage" class="dark-logo" />
                            <img src="../assets/images/text-ject-app.png" alt="homepage" class="light-logo" />
                    </b>
                    <span>
                            <img src="../assets/images/text-ject-app.png" alt="homepage" class="dark-logo" />
                            <img src="../assets/images/logo-ject-app.png" class="light-logo" alt="homepage" />
                    </span>
                </a>
            </div>
            <div class="navbar-collapse">

                <ul class="navbar-nav mr-auto">
                    <li class="nav-item"> <a class="nav-link nav-toggler hidden-md-up waves-effect waves-dark" href="javascript:void(0)"><i class="ti-menu"></i></a> </li>
                    <li class="nav-item"> <a class="nav-link sidebartoggler hidden-sm-down waves-effect waves-dark" href="javascript:void(0)"><i class="ti-menu"></i></a> </li>
                </ul>

                <ul class="navbar-nav my-lg-0">

                    <!-- ============================================================== -->
                    <!-- mega menu -->
                    <!-- ============================================================== -->
                    <li class="nav-item dropdown mega-dropdown"> <a class="nav-link dropdown-toggle waves-effect waves-dark" href="" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="mdi mdi-view-grid"></i></a>
                        <div class="dropdown-menu animated bounceInDown">
                            <ul class="mega-dropdown-menu row">
                                <li class="col-lg-3 col-xlg-2 m-b-30">
                                    <h4 class="m-b-20">CAROUSEL</h4>
                                    <!-- CAROUSEL -->
                                    <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
                                        <div class="carousel-inner" role="listbox">
                                            <div class="carousel-item active">
                                                <div class="container"> <img class="d-block img-fluid" src="assets/images/big/img7.jpg" alt="First slide"></div>
                                            </div>
                                            <div class="carousel-item">
                                                <div class="container"><img class="d-block img-fluid" src="assets/images/big/img8.jpg" alt="Second slide"></div>
                                            </div>
                                            <div class="carousel-item">
                                                <div class="container"><img class="d-block img-fluid" src="assets/images/big/img9.jpeg" alt="Third slide"></div>
                                            </div>
                                        </div>
                                        <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev"> <span class="carousel-control-prev-icon" aria-hidden="true"></span> <span class="sr-only">Previous</span> </a>
                                        <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next"> <span class="carousel-control-next-icon" aria-hidden="true"></span> <span class="sr-only">Next</span> </a>
                                    </div>
                                    <!-- End CAROUSEL -->
                                </li>
                                <li class="col-lg-3 m-b-30">
                                    <h4 class="m-b-20">ACCORDION</h4>
                                    <!-- Accordian -->
                                    <div id="accordion" class="nav-accordion" role="tablist" aria-multiselectable="true">
                                        <div class="card">
                                            <div class="card-header" role="tab" id="headingOne">
                                                <h5 class="mb-0">
                                                    <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                                          Collapsible Group Item #1
                                                        </a>
                                                </h5>
                                            </div>
                                            <div id="collapseOne" class="collapse show" role="tabpanel" aria-labelledby="headingOne">
                                                <div class="card-body"> Anim pariatur cliche reprehenderit, enim eiusmod high. </div>
                                            </div>
                                        </div>
                                        <div class="card">
                                            <div class="card-header" role="tab" id="headingTwo">
                                                <h5 class="mb-0">
                                                    <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                                          Collapsible Group Item #2
                                                        </a>
                                                </h5>
                                            </div>
                                            <div id="collapseTwo" class="collapse" role="tabpanel" aria-labelledby="headingTwo">
                                                <div class="card-body"> Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. </div>
                                            </div>
                                        </div>
                                        <div class="card">
                                            <div class="card-header" role="tab" id="headingThree">
                                                <h5 class="mb-0">
                                                    <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                                          Collapsible Group Item #3
                                                        </a>
                                                </h5>
                                            </div>
                                            <div id="collapseThree" class="collapse" role="tabpanel" aria-labelledby="headingThree">
                                                <div class="card-body"> Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. </div>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li class="col-lg-3  m-b-30">
                                    <h4 class="m-b-20">CONTACTO</h4>
                                    <!-- Contact -->
                                    <form>
                                        <div class="form-group">
                                            <input type="text" class="form-control" id="exampleInputname1" placeholder="Nombres"> </div>
                                        <div class="form-group">
                                            <input type="email" class="form-control" placeholder="Email"> </div>
                                        <div class="form-group">
                                            <textarea class="form-control" id="exampleTextarea" rows="3" placeholder="Mensaje"></textarea>
                                        </div>
                                        <button type="submit" class="btn btn-info">ENVIAR</button>
                                    </form>
                                </li>
                                <li class="col-lg-3 col-xlg-4 m-b-30">
                                    <h4 class="m-b-20">Explora <img src="../assets/images/text-ject-app.png" width="80px"></h4>
                                    <!-- List style -->
                                    <ul class="list-style-none">
                                        <li><a href="javascript:void(0)"><i class="fa fa-check text-success"></i> ¿Quienes Somos?</a></li>
                                        <li><a href="javascript:void(0)"><i class="fa fa-check text-success"></i> Anunciate en JectApp</a></li>
                                        <li><a routerLink="/login"><i class="fa fa-check text-success"></i> Registra tu Negocio o Empresa</a></li>
                                        <li><a href="javascript:void(0)"><i class="fa fa-check text-success"></i> Condiciones y Servicio</a></li>
                                        <li><a href="javascript:void(0)"><i class="fa fa-check text-success"></i> Politica de Privacidad</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </li>
                    <!-- ============================================================== -->
                    <!-- End mega menu -->
                    <!-- ============================================================== -->

                    <!-- ============================================================== -->
                    <!-- Profile -->
                    <!-- ============================================================== -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle waves-effect waves-dark" href="" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><img src="/assets/images/users/default-user-image.png" alt="user" class="profile-pic" /></a>
                        <div class="dropdown-menu dropdown-menu-right animated flipInY">
                            <ul class="dropdown-user">
                                <li>
                                    <div class="dw-user-box" align="center">
                                        <div class="u-img"><img src="/assets/images/users/default-user-image.png" alt="user"></div>
                                        <div class="u-text">

                                            <h4>Ingreso</h4>
                                            <p class="text-muted">Revisa tu cuenta</p>

                                            <a routerLink="/login" class="btn btn-rounded btn-danger btn-sm">
                                                LOGIN
                                            </a>
                                        </div>
                                    </div>
                                </li>
                                <!-- 
                                <li role="separator" class="divider"></li>
                                <li><a routerLink="/perfil"><i class="ti-user"></i> Perfil</a></li>
                                <li><a href="#"><i class="ti-wallet"></i> My Balance</a></li>
                                <li><a href="#"><i class="ti-email"></i> Inbox</a></li>
                                <li role="separator" class="divider"></li>
                                <li><a href="#"><i class="ti-settings"></i> Account Setting</a></li>
                                <li role="separator" class="divider"></li>
                                <li><a (click)="usuarioService.logout()" class="pointer"><i class="fa fa-power-off"></i> Logout</a></li>
                                -->
                            </ul>
                        </div>
                    </li>
                </ul>


            </div>
        </nav>
    </header>

    <aside class="left-sidebar">
        <div class="scroll-sidebar">
            <nav class="sidebar-nav">
                <ul id="sidebarnav">
                    <li class="nav-small-cap">
                        <form ngNativeValidate [formGroup]="myForm" class="form-horizontal form-material" (ngSubmit)="buscarRutas(myForm)">
                            <div>
                                <input formControlName="origen" [typeahead]="barrios" class="form-control" placeholder="Origen" required>
                                <input formControlName="destino" [typeahead]="barrios" class="form-control" placeholder="Destino" required>
                                <br>
                                <br>
                                <div class="text-center">
                                    <button type="submit" class="btn btn-info">Buscar</button>
                                </div>
                            </div>
                        </form>
                        <br>
                        <div class="alert alert-warning text-center" *ngIf="cargando">
                            <strong>Cargando ...</strong>
                            <br>
                            <i class="fa fa-refresh fa-spin fa-2x"></i>
                            <br>
                            <span>Espere por favor</span>
                        </div>

                        <hr>
                    </li>

                    <li class="nav-small-cap">

                        <div *ngIf="totalRutas > 0">
                            <h5 class="text-center"><strong>Rutas disponibles</strong> <span class="label label-success">{{totalRutas}}</span></h5>
                            <a (click)="mostrarRuta(ruta.lat_origen, ruta.lng_origen, ruta.lat_destino, ruta.lng_destino)" 
                                *ngFor="let ruta of rutasFinal" class="pointer">
                                <h6>{{ruta.nombre}}</h6><span class="badge badge-warning">{{ruta.empresa}}</span>
                                
                            </a>

                        </div>

                    </li>



                    <li class="nav-small-cap divider">
                        <div class="googleApple text-center">
                            <h4 class="text-center"> &nbsp;&nbsp;Disponible en</h4>
                            <img src="../assets/images/google_play.png" width="150px" />
                            <img src="../assets/images/app-store.png" width="150px" />
                        </div>
                    </li>
                </ul>
            </nav>
        </div>
    </aside>


    <div class="page-wrapper">
        <div class="container-fluid r-aside">

            <div class="row animated zoomIn">
                <div class="col-md-12">
                    <div class="card">
                        <div class="card-body">
                            <agm-map [latitude]="lat" [longitude]="lng" [scrollwheel]="true" [zoom]="zoom" [styles]="styleArray">
                                <agm-marker [latitude]="lat" [longitude]="lng"></agm-marker>

                                <agm-direction *ngIf="dir" [origin]="dir.origin" [destination]="dir.destination" [visible]="show"></agm-direction>

                                <!--

                                    <ng-container>
                                    <agm-polyline [strokeColor]="'#3393FF'" *ngIf="mostrarRutas">
                                        <agm-polyline-point [latitude]="lat_origen" [longitude]="lng_origen">

                                        </agm-polyline-point>

                                        <agm-polyline-point [latitude]="lat_destino" [longitude]="lng_destino">
                                        </agm-polyline-point>



                                    </agm-polyline>
                                </ng-container>


                                -->


                                <agm-marker *ngFor="let empresa of empresas" [iconUrl]="'assets/images/markets/'+empresa.icono" [latitude]="empresa.lat" [longitude]="empresa.lng">

                                    <agm-info-window>
                                        <div class="card-body">
                                            <h4 class="card-title">{{empresa.nombre}}</h4>
                                            <h6 class="card-title">{{empresa.informacion}}</h6>
                                            <div class="clearfix"></div>
                                            <img [src]="empresa.img1 | imagen:'empresas'" width="90">
                                            <img [src]="empresa.img2 | imagen:'empresas'" width="90">
                                            <img [src]="empresa.img3 | imagen:'empresas'" width="90">
                                            <img [src]="empresa.img4 | imagen:'empresas'" width="90">
                                            <br><br>
                                            <h6 class="card-title">{{empresa.descripcion}}</h6>
                                            <div class="clearfix"></div>
                                        </div>
                                    </agm-info-window>

                                </agm-marker>


                                <agm-marker *ngFor="let marcador of marcadores" [iconUrl]="'assets/images/markets/'+marcador.icono" [latitude]="marcador.lat" [longitude]="marcador.lng">

                                    <agm-info-window>
                                        <div class="card-body">
                                            <h4 class="card-title">{{marcador.nombre}}</h4>
                                            <div class="clearfix"></div>
                                            <img [src]="marcador.img1 | imagen:'marcadores'" width="90">
                                            <img [src]="marcador.img2 | imagen:'marcadores'" width="90">
                                            <img [src]="marcador.img3 | imagen:'marcadores'" width="90">
                                            <img [src]="marcador.img4 | imagen:'marcadores'" width="90">
                                            <br><br>
                                            <h6 class="card-title">{{marcador.descripcion}}</h6>
                                            <div class="clearfix"></div>
                                        </div>
                                    </agm-info-window>

                                </agm-marker>
                            </agm-map>

                        </div>
                    </div>
                </div>
            </div>

            <div class="row animated zoomIn">

                <div class="col-md-12 text-center">

                    <button routerLink="/login" class="btn btn-danger btn-lg text-uppercase btn-rounded" type="submit"> Agrega tu negocio aqui !!</button>

                </div>

            </div>

            <br>
            <br>
            

            <div class="row animated zoomIn">
                    <div class="col-md-12 text-center">
                            <h6>
                                <a href="javascript:void(0)"><i class="fa fa-check text-success"></i> ¿Quienes Somos? &nbsp;&nbsp;</a>
                                <a href="javascript:void(0)"><i class="fa fa-check text-success"></i> Anunciate en JectApp &nbsp;&nbsp;</a>
                                <a routerLink="/login"><i class="fa fa-check text-success"></i> Registra tu Negocio o Empresa &nbsp;&nbsp;</a>
                                <a href="javascript:void(0)"><i class="fa fa-check text-success"></i> Condiciones y Servicio &nbsp;&nbsp;</a>
                                <a href="javascript:void(0)"><i class="fa fa-check text-success"></i> Politica de Privacidad &nbsp;&nbsp;</a>
                            </h6>
                    </div>
            </div>

        </div>
